const builder = require('./svgIconBuilder');
const sqliteDb = require('./server/sqliteDB');
const fs = require('fs');

(async function () {
    await sqliteDb.initIconsDB();
    const { err, rows } = await sqliteDb.queryAllSvgInfo();
    builder({
        svgs: rows,
        outputFolder: `${__dirname}/fonts`,
        fontTypes: ['ttf', 'eot', 'woff', 'woff2']
    })

})()

/* 

var buff = Buffer.from('<svg class="icon" style="width: 1em; height: 1em;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M628.53856532 593.67390823s18.400383-33.13922883 38.62380981-95.70980071c20.23115158-64.42451477 22.99661636-97.54829407 22.99661636-97.54829407L528.22480646 397.67352295v-61.70539856l196.0390091-2.76546478V289.06336975H528.22480646V188.72643661H433.38790384V289.06336975H250.31104533v44.17018891L433.38790384 330.46809387v67.14363098H286.20028939v35.88924409h303.68356706s-2.76546479 28.58161927-15.64264297 64.42451476-23.01206589 67.15135574-23.01206589 67.15135575-141.74165725-57.00101853-216.29333496-57.00101853S167.48614755 541.21504975 160.11672465 639.69031525c-7.36169814 97.54056931 41.42017365 151.83792114 115.94867706 170.2460289s138.9298439 0 196.04673385-33.13922882c58.90130996-31.27756118 115.94867707-105.82923889 115.94867707-105.82923889L889.92133585 835.70615006s18.400383-31.29301072 33.1237793-61.65904999c15.65036774-31.29301072 25.77753067-64.42451477 25.77753066-64.42451477zM317.5164744 758.41990662C211.68723551 758.41990662 188.65199533 699.50314711 188.65199533 658.06752395S211.68723551 570.63866806 301.85065713 562.35772324c90.17887116-7.36169814 213.49697113 71.77848816 213.49697115 71.77848816S425.16103235 758.41990662 317.5164744 758.41990662z m0 0" fill="#707070" /></svg>', 'utf8');
var crf =fs.createReadStream(buff);
fs.
debugger */